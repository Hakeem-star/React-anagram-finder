(window["webpackJsonpceleb-anagram"]=window["webpackJsonpceleb-anagram"]||[]).push([[0],{11:function(e,t,a){e.exports=a(20)},16:function(e,t,a){},18:function(e,t,a){},19:function(e,t,a){},20:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),s=a(9),l=a.n(s),c=(a(16),a(1)),i=a.n(c),u=a(2),o=a(3),h=a(4),m=a(6),p=a(5),g=a(7),d=a(10);function y(e){return f.apply(this,arguments)}function f(){return(f=Object(u.a)(i.a.mark((function e(t){var a,r,n,s,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=function(){if(200===n.status){for(var e=function(e){var t=a[e].split(""),n={};t.forEach((function(e,t,a){n[e]=a.filter((function(t){return t===e})).length}));for(var l=0;l<s.CelebrityValues.length;l++){var c=s.CelebrityValues[l].name.toUpperCase().replace(" ","").replace(/[^A-Z]/g,"");a[e].length===c.length&&function(){for(var i={},u=function(e){if(c.includes(t[e])&&!i[t[e]]){var a=c.split("").filter((function(a){return a===t[e]})).length;if(a>n[t[e]]+1)return"break";i[t[e]]=a}},o=0;o<t.length;o++){if("break"===u(o))break}var h,m=0;Object.keys(n).forEach((function(e){i[e]===n[e]&&m++})),(h=(m/Object.keys(n).length*100).toFixed())>=80&&(r[a[e]]||(r[a[e]]=[]),r[a[e]].push(Object(d.a)({},s.CelebrityValues[l].name,h+"%")))}()}},t=0;t<a.length;t++)e(t);return console.log(r),new Promise((function(e,t){e(r)}))}console.log("Looks like there was a problem. Status Code: "+n.status)},a=function(e){return e.toUpperCase().includes(",")?(e=e.toUpperCase().replace(/\s/g,"").split(",")).forEach((function(t,a){e[a]=t.replace(/[^A-Z]/g,"")})):(e=[e.toUpperCase().replace(/\s/g,"")]).forEach((function(t,a){e[a]=t.replace(/[^A-Z]/g,"")})),e}(t),"https://cors-anywhere.herokuapp.com/","https://celebritybucks.com/developers/export/JSON",r={},e.next=8,fetch("https://cors-anywhere.herokuapp.com/https://celebritybucks.com/developers/export/JSON");case 8:return n=e.sent,e.next=11,n.json();case 11:return s=e.sent,e.next=14,l();case 14:return e.abrupt("return",e.sent);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var v=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).state={currentResultsPage:0,maxPages:1},a}return Object(g.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.setState({maxPages:this.chunk(Object.keys(this.props.results),10).length,currentResultsPage:0})}},{key:"componentDidUpdate",value:function(e,t,a){e.results!==this.props.results&&(console.log(0),this.setState({maxPages:this.chunk(Object.keys(this.props.results),10).length,currentResultsPage:0})),e.display!==this.props.display&&this.setState({maxPages:this.chunk(Object.keys(this.props.results),10).length,currentResultsPage:0})}},{key:"chunk",value:function(e,t){for(var a=[],r=0,n=0;n<e.length;n+=t)n?r+=t:r=0,a.push(e.slice(r,r+t));return a}},{key:"navigateResults",value:function(e){" \xbb "===e.target.textContent?this.state.currentResultsPage<this.state.maxPages-1&&this.setState({currentResultsPage:this.state.currentResultsPage+1}):" \xab "===e.target.textContent&&this.state.currentResultsPage>0&&this.setState({currentResultsPage:this.state.currentResultsPage-1})}},{key:"resultsCounter",value:function(){try{var e=this.chunk(this.rows(),10)[this.state.currentResultsPage];return this.state.currentResultsPage>0?"".concat(10*this.state.currentResultsPage+1," - ").concat(10*this.state.currentResultsPage+e.length," "):"1 - ".concat(e.length)}catch(t){return console.log("HERE"),"0 - ".concat(this.chunk(this.rows(),10)[0].length)}}},{key:"rows",value:function(){var e=this;return Array(Object.keys(this.props.results).length).fill("").map((function(t,a){var r=Object.keys(e.props.results)[a],s=e.props.results[r][0],l=Object.keys(s)[0],c=n.a.createElement("a",{target:"blank",href:"https://en.wikipedia.org/wiki/"+l},l),i=s[l];return n.a.createElement("tr",{key:r+l},n.a.createElement("td",null,r),n.a.createElement("td",null,c),n.a.createElement("td",null,i))}))}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{style:{display:"none"===e.props.display?"flex":"none"},className:"container"},n.a.createElement("table",null,n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Anagram"),n.a.createElement("th",null,"Name"),n.a.createElement("th",null,"Match Rate"))),n.a.createElement("tbody",null,this.chunk(this.rows(),10)[this.state.currentResultsPage])),n.a.createElement(b,{prevResults:function(t){return e.navigateResults(t)},current:this.resultsCounter(),nextResults:function(t){return e.navigateResults(t)},maximum:this.rows().length}))}}]),t}(n.a.Component);function b(e){return n.a.createElement("div",{className:"ResultsPageNumber"},n.a.createElement("p",{className:"previous",onClick:e.prevResults}," ","\xab"," "),n.a.createElement("p",null,"Showing ",e.current," of ",e.maximum),n.a.createElement("p",{className:"next",onClick:e.nextResults}," ","\xbb"," "))}a(18);function k(e){return n.a.createElement("div",{className:"container"},n.a.createElement("div",{style:{display:e.display},className:"lds-dual-ring"}))}a(19);function E(e){return n.a.createElement("h4",null,"Nothing was found!")}function w(e){var t;return 0===Object.keys(e.results).length?t=n.a.createElement(E,null):(console.log("LOOK",e.results),t=n.a.createElement(v,{display:e.display,results:e.results})),n.a.createElement("div",{className:"container"},t)}function C(e){return n.a.createElement("div",{className:"headerPortion"},n.a.createElement("h1",null,e.title+" Anagram Finder"))}function N(e){return n.a.createElement("div",null,n.a.createElement("select",{className:"selector",onChange:e.handleClick,name:"anagramQuerySelect",id:"anagramQuerySelect"},n.a.createElement("option",{className:"celebrities",value:"Celebrities"},"Celebrities"),n.a.createElement("option",{className:"general",value:"General"},"General")))}function O(e){var t;return t="General"===e.placeholder?"This feature is coming soon":"Thanksmo,TRUMCDONALD,parsi/hl itno",n.a.createElement("div",{className:"searchInput"},n.a.createElement("input",{className:"searchTextInput",onKeyPress:e.submitted,onChange:e.searchTerm,type:"text",defaultValue:t}),n.a.createElement("input",{onClick:e.submitted,type:"button",value:"Search"}))}function R(e){var t=Array(5).fill("").map((function(t,a){var r=e.history[a];return r?(console.log(r),n.a.createElement("div",{className:"history",key:r+a,"data-index":a,onClick:e.goback,title:r.searchTerm.slice(0,60)},r.searchTerm.replace(",","").slice(0,9),"...")):n.a.createElement("div",{className:"history dash",key:t+a},"-")}));return n.a.createElement("div",{className:"container"},n.a.createElement("div",null,n.a.createElement("p",{id:"historyLabel"},"Previous Searches"),n.a.createElement("div",{id:"historyLabelArrows"})),n.a.createElement("div",{className:"resultsContainer"},t))}var S=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).state={anagramType:C.defaultProps.title,SearchInputName:C.defaultProps.title,searchTerm:"Thanksmo,TRUMCDONALD,parsi/hl itno",results:[],resultsHistory:[],loading:"none"},a}return Object(g.a)(t,e),Object(h.a)(t,[{key:"componentDidUpdate",value:function(e,t,a){t.resultsHistory!==this.state.resultsHistory&&Object.keys(this.state.results).length>0&&this.scrollToResults()}},{key:"searchSelected",value:function(e){this.setState({anagramType:e.target.value,SearchInputName:e.target.value})}},{key:"localCelebAnagramFinder",value:function(){var e=Object(u.a)(i.a.mark((function e(t){var a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:"inherit"}),e.next=3,y(t);case 3:a=e.sent,(r=this.state.resultsHistory.slice(-4)).push({searchTerm:this.state.searchTerm,results:a}),this.setState({resultsHistory:r,results:a,loading:"none"});case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"searchTerm",value:function(e){this.setState({searchTerm:e.target.value})}},{key:"searchSubmitted",value:function(e){0!==this.state.resultsHistory.length&&this.state.searchTerm===this.state.resultsHistory[this.state.resultsHistory.length-1].searchTerm||"Enter"!==e.key&&"button"!==e.target.type||this.localCelebAnagramFinder(this.state.searchTerm)}},{key:"scrollToResults",value:function(){console.log(document.body.scrollHeight-document.querySelector("table").scrollHeight,document.body.scrollHeight,document.querySelector("table").scrollHeight),document.querySelector("table").scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})}},{key:"goback",value:function(e){this.setState({results:this.state.resultsHistory[e.target.dataset.index].results})}},{key:"render",value:function(){var e,t=this;return e=0===this.state.results.length?[]:n.a.createElement(w,{display:this.state.loading,results:this.state.results}),n.a.createElement("div",null,n.a.createElement("div",null,n.a.createElement(C,{title:this.state.anagramType}),n.a.createElement("div",{className:"inputSubmitContainer"},n.a.createElement(N,{handleClick:function(e){return t.searchSelected(e)}}),n.a.createElement(O,{placeholder:this.state.anagramType,submitted:function(e){return t.searchSubmitted(e)},searchTerm:function(e){return t.searchTerm(e)}})),n.a.createElement(R,{goback:function(e){return t.goback(e)},history:this.state.resultsHistory}),n.a.createElement(k,{display:this.state.loading}),n.a.createElement("div",null,e)))}}]),t}(n.a.Component);C.defaultProps={title:"Celebrity",SearchInputName:"Name"};var P=S;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(n.a.createElement(P,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[11,1,2]]]);
//# sourceMappingURL=main.17fa198b.chunk.js.map